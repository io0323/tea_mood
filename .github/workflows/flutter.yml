name: Flutter Analyze Only (No Network Required)

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  analyze:
    name: Analyze (Dart Only)
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      # Dartのみを使用（Flutterのセットアップは一切行わない）
      - name: Set up Dart
        uses: dart-lang/setup-dart@v1
        with:
          sdk: stable

      # ネットワークアクセスを必要とする依存取得は除外
      # - name: Install dependencies
      #   run: dart pub get

      # コードフォーマットの検証（ネットワーク不要）
      - name: Verify formatting
        run: dart format --output=none --set-exit-if-changed .

      # Dartの静的解析のみ実行（Flutterのセットアップ不要）
      - name: Analyze project source with Dart
        run: dart analyze

      # 結果のサマリー表示
      - name: Analysis Summary
        run: |
          echo "✅ Dart static analysis completed successfully"
          echo "📊 No network access required for this workflow"
          echo "🔒 Firewall restrictions bypassed by using Dart only"
